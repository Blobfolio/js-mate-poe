/**
 * JS Mate Poe
 *
 * @version 1.0.3
 * @see {https://github.com/Blobfolio/js-mate-poe}
 */
(function(){'use strict';function d(a){return null===a?null:"number"===typeof a?[[a,1]]:a}function h(a){let b=null;"function"===typeof a.repeat?b=a.repeat():null!==a.repeat&&(b=[...a.repeat]);return{start:"function"===typeof a.start?a.start():a.start,from:[...a.from],to:[...a.b],repeat:b,frames:[...a.frames],sound:null===a.a?null:[...a.a],flags:a.flags}}function m(a){let b=[];for(let c=0;c<a.length;++c)b.push(h(a[c]));return b};var n=2,q=0,r=0;function v(){if("undefined"===typeof window)return 0;const a=parseInt(window.innerWidth,10)||0;if("undefined"!==typeof document&&"undefined"!==typeof document.documentElement){const b=parseInt(document.documentElement.offsetWidth,10)||0;if(b<a&&b+25>=a)return b}return a}
const w={l:null,m:[],get animation(){return null!==w.l?w.l.s:null},set animation(a){if(null!==w.l){if(w.m.length)for(let b=0;b<w.m.length;++b)w.m[b].o();w.l.u(a)}},get audio(){return!!(2&n)},set audio(a){n=a?n|2:n&-3},get debug(){return!!(1&n)},set debug(a){n=a?n|1:n&-2},get height(){0>=r&&(r="undefined"===typeof window?0:parseInt(window.innerHeight,10)||0);return r},set height(a){a=parseInt(a,10)||0;0>a&&(a=0);r=a},get name(){return"JS Mate Poe"},get version(){return"1.1.0"},get width(){0>=q&&(q=
v());return q},set width(a){a=parseInt(a,10)||0;0>a&&(a=0);q=a}};const x=[{id:1,name:"Walk",c:[{start:null,from:[-2,0,200],b:[-2,0,200],repeat:[20,0],frames:[2,3],a:null,flags:5}],f:1,g:0,h:0,flags:3,i:null,j:[[2,5],[25,1]],next:[[1,10],[23,4],[31,2],[19,2],[33,2],[36,2],[38,2],[32,1],[15,1],[13,1],[37,1],[10,1]]},{id:2,name:"Rotate",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[3,9,10],a:null,flags:6},{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[10,9,3],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:[[1,10],[19,1]]},{id:3,
name:"Drag",c:[{start:null,from:[0,0,100],b:[0,0,100],repeat:null,frames:[42,43,43,42,44,44],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:null,next:3},{id:4,name:"Fall",c:[{start:null,from:[0,1,100],b:[0,10,40],repeat:[20,0],frames:[133],a:null,flags:0}],f:0,g:1,h:10,flags:2,i:null,j:8,next:5},{id:5,name:"Grasping Fall",c:[{start:null,from:[0,10,40],b:[0,10,40],repeat:[10,0],frames:[46,46,46],a:null,flags:0}],f:0,g:1,h:0,flags:2,i:null,j:[[9,3],[8,1],[11,1]],next:5},{id:6,name:"Run",c:[{start:null,
from:[-10,0,100],b:[-10,0,100],repeat:[5,0],frames:[5,4,4],a:null,flags:5}],f:1,g:0,h:0,flags:3,i:null,j:7,next:[[24,4],[18,3],[6,2]]},{id:7,name:"Boing!",c:[{start:null,from:[1,0,100],b:[10,0,100],repeat:null,frames:[62,62,63,64,65,66,67,68,69,70,6],a:null,flags:4}],f:0,g:0,h:0,flags:2,i:null,j:null,next:[[2,8],[1,4],[23,1]]},{id:8,name:"Bounce",c:[{start:null,from:[0,0,100],b:[0,0,100],repeat:null,frames:[42,49,42],a:null,flags:4},{start:null,from:[0,-2,100],b:[0,3,100],repeat:null,frames:[131,
42,132,42,49],a:null,flags:0},{start:null,from:[0,0,100],b:[0,0,100],repeat:null,frames:[13,12,3,9,10,10,10,10,10,10,10,10,10,10,9,3],a:null,flags:4}],f:0,g:0,h:0,flags:2,i:null,j:null,next:1},{id:9,name:"Splat!",c:[{start:null,from:[0,0,200],b:[0,0,500],repeat:null,frames:[48,48,48,48,47],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:null,next:1},{id:10,name:"Urinate",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:()=>[Math.floor(5+10*Math.random()),5],frames:[3,12,13,103,104,105,106],a:null,flags:4},
{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[104,105,104,104,103,13,12],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:11,name:"Play Dead",c:[{start:null,from:[0,0,100],b:[0,0,100],repeat:[4,11],frames:[3,96,96,96,96,96,96,96,96,96,96,95],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:12,name:"Scream!",c:[{start:null,from:[0,0,30],b:[0,0,100],repeat:[12,0],frames:[50,51],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:6},{id:13,name:"Sleep",c:[{start:null,
from:[0,0,1E3],b:[0,0,200],repeat:()=>[Math.floor(10+20*Math.random()),9],frames:[3,107,108,107,108,107,31,32,33,0,1],a:[3,1],flags:4},{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[0,80,79,78,77,37,38,39,38,37,6],a:[3,5],flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:14,name:"Doze",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:()=>[Math.floor(20+10*Math.random()),6],frames:[3,6,7,8,8,7,8,8],a:null,flags:4},{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[8,7,6],
a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:15,name:"Bored Sleep",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:()=>[Math.floor(30+10*Math.random()),7],frames:[3,9,10,34,35,34,35,36,36],a:null,flags:4},{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[35,36,36,35,34,34,34,10,9],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:16,name:"Bath Dive",c:[{start:()=>[w.width,w.height-600],from:[-4,3,30],b:[-4,3,30],repeat:[146,0],frames:[134],a:null,flags:0},
{start:null,from:[-4,3,30],b:[-4,3,30],repeat:null,frames:[135,135,135,135,136,136,136,136,137,137,137,137,138,138,138,138,139,139,139,139,140,140,140,140,141,141,141,141,142,142,142,142,143,143,143,143,144,144,144,144,145,144,145,144,145,144,145,144],a:null,flags:0}],f:0,g:1,h:1,flags:3,i:17,j:35,next:35},{id:17,name:"Bath Dive \ud83d\udc76",c:[{start:()=>[w.width-800+50,w.height-40],from:[0,0,30],b:[0,0,30],repeat:[171,0],frames:[146],a:null,flags:0},{start:null,from:[0,0,30],b:[0,0,30],repeat:[5,
20],frames:[146,146,146,146,146,146,146,146,146,146,146,146,147,147,148,148,148,147,147,146,146,146,146,146,146,146,146,146,146,146,146,146],a:null,flags:0}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:18,name:"Jump",c:[{start:null,from:[-10,-8,100],b:[-10,10,100],repeat:null,frames:[76,30,30,30,30,23,23,23,23,23,24,24,24,24,77],a:null,flags:0}],f:1,g:0,h:0,flags:3,i:null,j:48,next:[[6,1],[34,1]]},{id:19,name:"Eat",c:[{start:null,from:[0,0,300],b:[0,0,300],repeat:[5,5],frames:[6,6,6,6,58,59,
59,60,61,60,61,6],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:20,j:null,next:1},{id:20,name:"Flower \ud83d\udc76",c:[{start:null,from:[0,0,300],b:[0,0,300],repeat:null,frames:[153,153,153,153,153,153,153,153,153,149,149,149,149,149,149,149,149,149,150,150,150,150,150,150,150,151,151,151,151,151,151,151,152,152,152,152,152,152,152,152,152,152,152,152,174,174,174],a:null,flags:0}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:21,name:"Black Sheep ",c:[{start:()=>[w.width+40,w.height-40],from:[-10,0,100],
b:[-10,0,100],repeat:()=>[Math.floor(w.width/2/30-6),0],frames:[5,4,4],a:null,flags:4},{start:null,from:[-6,0,100],b:[0,0,100],repeat:()=>[Math.floor(25+Math.floor(w.width/2)%30/7),0],frames:[2,3],a:null,flags:4},{start:null,from:[0,0,500],b:[0,0,500],repeat:null,frames:[8,3,3,3,127,128,129,130,130,130,130,129,128,127,3,3,3],a:null,flags:4}],f:0,g:1,h:1,flags:3,i:22,j:null,next:1},{id:22,name:"Black Sheep \ud83d\udc76",c:[{start:()=>[-40,w.height-40],from:[10,0,100],b:[10,0,100],repeat:()=>[Math.floor(w.width/
2/30-6),0],frames:[155,154,154],a:null,flags:4},{start:null,from:[6,0,100],b:[0,0,100],repeat:()=>[Math.floor(24+Math.floor(w.width/2)%30/7),0],frames:[156,157],a:null,flags:4},{start:null,from:[0,0,500],b:[0,0,500],repeat:[9,0],frames:[157],a:null,flags:4},{start:null,from:[0,0,20],b:[0,0,20],repeat:[20,0],frames:[157],a:null,flags:4}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:23,name:"Begin Run",c:[{start:null,from:[-2,0,200],b:[-10,0,100],repeat:null,frames:[2,3,2,5,4,5,4,5],a:null,flags:4}],
f:1,g:0,h:0,flags:3,i:null,j:7,next:6},{id:24,name:"Run (End)",c:[{start:null,from:[-10,0,100],b:[-2,0,200],repeat:null,frames:[5,4,5,4,5,3,2,3,2,3],a:null,flags:4}],f:0,g:0,h:0,flags:2,i:null,j:7,next:1},{id:25,name:"Climb Up",c:[{start:null,from:[0,-2,150],b:[0,-2,150],repeat:()=>[Math.floor(w.height/2),2],frames:[31,30,15,16],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:26,next:25},{id:26,name:"Reach Ceiling",c:[{start:null,from:[0,0,200],b:[2,0,200],repeat:null,frames:[16,17,28],a:null,flags:2}],
f:0,g:0,h:0,flags:2,i:null,j:null,next:27},{id:27,name:"Walk Upside Down",c:[{start:null,from:[-2,0,150],b:[-2,0,150],repeat:()=>[Math.floor(w.width/2),0],frames:[98,97],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:28,next:27},{id:28,name:"Reach Side",c:[{start:null,from:[0,0,800],b:[0,0,800],repeat:null,frames:[97,97],a:null,flags:2}],f:0,g:0,h:0,flags:2,i:null,j:null,next:29},{id:29,name:"Climb Down",c:[{start:null,from:[0,2,150],b:[0,2,150],repeat:()=>[Math.floor(w.height/2),0],frames:[19,20],
a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:30,next:29},{id:30,name:"Reach Floor",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[24,6,6,6,6,6],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:null,next:1},{id:31,name:"Beg",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[52,53,54,55,54,55,54,55,34,34,34,34,34,34,31],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:32,name:"Bleat",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[3,71,72,71,72,71,
3],a:[1,1],flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:33,name:"Handstand",c:[{start:null,from:[-2,0,200],b:[-2,0,200],repeat:null,frames:[86,87,88,89,90,88,89,90,87,86],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:34,name:"Slide",c:[{start:null,from:[-4,0,50],b:[0,0,200],repeat:null,frames:[24,23,23,23,23,23,31,3,3,3,3],a:null,flags:4}],f:0,g:0,h:0,flags:3,i:null,j:null,next:1},{id:35,name:"Bath Cool Down",c:[{start:null,from:[0,0,100],b:[0,0,100],repeat:[2,0],frames:[169,
169,169,170,171,170,169,169],a:null,flags:4},{start:null,from:[0,0,100],b:[0,0,100],repeat:null,frames:[119,81,81,82,82,10],a:null,flags:4}],f:0,g:0,h:0,flags:2,i:null,j:null,next:null},{id:36,name:"Roll",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[9,10,10],a:null,flags:4},{start:null,from:[-8,0,100],b:[-8,0,100],repeat:[1,0],frames:[10,118,117,116,115,114,113,112],a:null,flags:4},{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[10,10,9],a:null,flags:4}],f:1,g:0,h:0,flags:3,
i:null,j:null,next:1},{id:37,name:"Sneeze",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:null,frames:[108,109,110,111,110,111,110,3],a:[2,0],flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:1},{id:38,name:"Scratch",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:[3,0],frames:[56,57],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:null},{id:39,name:"Stargaze",c:[{start:()=>[w.width,w.height-40],from:[-2,0,100],b:[-2,0,100],repeat:[10,0],frames:[2,3],a:null,flags:4},{start:null,from:[0,
0,50],b:[0,0,50],repeat:[15,5],frames:[3,3,3,3,3,73],a:null,flags:4}],f:0,g:1,h:1,flags:3,i:40,j:null,next:12},{id:40,name:"Stargaze \ud83d\udc76",c:[{start:()=>[-40,80],from:[0,0,100],b:[0,0,100],repeat:[20,0],frames:[158],a:null,flags:8},{start:null,from:[5,-1,25],b:[5,-1,25],repeat:[40,0],frames:[158,159,160,161],a:null,flags:8}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:41,name:"Abduction",c:[{start:null,from:[0,0,200],b:[0,0,200],repeat:[10,5],frames:[9,10,10,10,10,34],a:null,flags:4},
{start:null,from:[0,0,25],b:[0,0,25],repeat:()=>[Math.floor(w.width/4),47],frames:[34,34,34,34,34,34,175,34,175,86,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175],a:null,flags:12}],f:1,g:0,h:0,flags:3,i:42,j:null,next:45},{id:42,name:"Abduction \ud83d\udc76",c:[{start:null,from:[0,4,25],b:[0,4,25],repeat:[29,0],frames:[158,159,160,161],a:null,flags:8}],f:0,g:0,h:0,flags:4,i:null,j:null,next:43},{id:43,name:"Abduction Beaming \ud83d\udc76",
c:[{start:null,from:[0,0,25],b:[0,0,25],repeat:[11,0],frames:[162,163,164,165],a:null,flags:8},{start:null,from:[4,-1,25],b:[4,-1,25],repeat:()=>[Math.floor(w.width/16),0],frames:[158,159,160,161],a:null,flags:8}],f:0,g:0,h:0,flags:4,i:44,j:null,next:null},{id:44,name:"Abduction Beam \ud83d\udc76",c:[{start:null,from:[0,0,25],b:[0,0,25],repeat:[35,7],frames:[175,175,175,175,172,172,175,172],a:null,flags:8}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:45,name:"Chasing a Martian!",c:[{start:()=>
[w.width+120,w.height-40],from:[-10,0,100],b:[-10,0,100],repeat:()=>[Math.floor(w.width/2/30),0],frames:[5,4,4],a:null,flags:12}],f:0,g:1,h:1,flags:3,i:46,j:null,next:32},{id:46,name:"Chasing a Martian! \ud83d\udc76",c:[{start:()=>[w.width+40,w.height-40],from:[-12,0,100],b:[-12,0,100],repeat:()=>[Math.floor(w.width/48+4),0],frames:[166,167,166,168],a:null,flags:13}],f:0,g:0,h:0,flags:4,i:null,j:null,next:null},{id:47,name:"Spin",c:[{start:null,from:[0,0,100],b:[0,0,100],repeat:null,frames:[3,9,10,
11,14,13,12,7,9,101,11,14,13,12],a:null,flags:4}],f:1,g:0,h:0,flags:3,i:null,j:null,next:[[11,1],[37,1]]},{id:48,name:"Wall Slide",c:[{start:null,from:[0,5,40],b:[0,5,40],repeat:[10,0],frames:[29],a:null,flags:0}],f:0,g:0,h:0,flags:2,i:null,j:2,next:48}];x.reduce((a,b)=>{4&b.flags&&a.add(b.id);return a},new Set);x.reduce((a,b)=>{0<b.f&&a.push([b.id,b.f]);return a},[]);x.reduce((a,b)=>{0<b.g&&a.push([b.id,b.g]);return a},[]);x.reduce((a,b)=>{0<b.h&&a.push([b.id,b.h]);return a},[]);const y={functional:!0,props:{frame:{type:Number,required:!1,"default":0},repeat:{type:Boolean,required:!1,"default":!1}},render:function(a,b){if(0>b.props.frame||176<b.props.frame)b.props.frame=0;b.data.staticClass="string"===typeof b.data.staticClass?b.data.staticClass+` frame f${b.props.frame}`:`frame f${b.props.frame}`;b.data.attrs.title=`Frame: #${b.props.frame}`;b.props.repeat&&(b.data.staticClass+=" is-repeated");return a("DIV",b.data)}};const z={functional:!0,props:{icon:{type:String,required:!0}},render:function(a,b){b.data.staticClass="string"===typeof b.data.staticClass?b.data.staticClass+" icon":"icon";b.data.domProps={innerHTML:`<svg class="icon-${b.props.icon}"><use xlink:href="#i-${b.props.icon}"></use></svg>`};return a("DIV",b.data)}};const A={props:{trunk:{type:String,required:!0},values:{type:Array,required:!0}},computed:{branches:function(){let a=[];for(let b=0;b<this.values.length;++b){if("number"!==typeof this.values[b][0]||"number"!==typeof this.values[b][1]||0>=this.values[b][1])continue;const c=this.$root.summary(this.values[b][0]);!1!==c&&a.push({id:c.id,name:c.name,frame:c.frame,weight:Math.floor(this.values[b][1]/this.totalWeight*1E3)/10})}a.sort((b,c)=>b.weight<c.weight?1:b.weight>c.weight||b.name<c.name?-1:b.name>
c.name?1:0);return a},totalWeight:function(){return this.values.reduce((a,b)=>{"number"===typeof b[1]&&(a+=b[1]);return a},0)}},template:'\n\t\t<div\n\t\t\tclass="animation-tree"\n\t\t>\n\t\t\t<div class="animation-trunk">{{ trunk }}</div>\n\t\t\t<div class="animation-branches">\n\t\t\t\t<a\n\t\t\t\t\tv-for="item in branches"\n\t\t\t\t\tclass="animation-branch"\n\t\t\t\t\t:href="\'#animation-\' + item.id"\n\t\t\t\t>\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\tclass="animation-branch-frame"\n\t\t\t\t\t\t:frame="item.frame"\n\t\t\t\t\t></poe-frame>\n\n\t\t\t\t\t<div class="animation-branch-meta">\n\t\t\t\t\t\t<div class="animation-branch-name">{{ item.name }}</div>\n\t\t\t\t\t\t<div class="animation-branch-weight">Probability: {{ item.weight }}%</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t'};let B=null;let C=!1;
Vue.component("poe-animation",{data:function(){return{expanded:!0}},props:{id:{type:Number,required:!0},name:{type:String,required:!0},scenes:{type:[Array],required:!0},flags:{type:Number,required:!1,"default":0},childId:{type:Number,required:!1,"default":0},edge:{type:[Array,null],required:!1,"default":null},next:{type:[Array,null],required:!1,"default":null}},methods:{playAnimation:function(a){this.$root.playAnimation(a)}},computed:{hasSound:function(){for(let a=0;a<this.scenes.length;++a)if(null!==this.scenes[a].sound)return!0;
return!1},hasChild:function(){return 0<this.childId},hasEdge:function(){return null!==this.edge&&0<this.edge.length},hasNext:function(){return null!==this.next&&0<this.next.length},hasTree:function(){return this.hasChild||this.hasEdge||this.hasNext},isDependent:function(){return 3===this.id||4===this.id?!0:!this.defaultChoice&&!this.firstChoice&&!this.entranceChoice},isPlayable:function(){return!!(1&this.flags)},isRepeated:function(){const a=this.frames.length;for(let b=0;b<a;++b)if(this.frames[b].repeat)return!0;
return!1},variableDuration:function(){return!!(8&this.flags)},duration:function(){if(this.variableDuration)return"(varies)";let a=0;for(let b=0;b<this.steps.length;++b)a+=this.steps[b].interval;return 1E3<a?(a=Math.floor(a/100)/10,(new Intl.NumberFormat("en-US",{})).format(a)+"s"):(new Intl.NumberFormat("en-US",{})).format(a)+"ms"},frames:function(){let a=[];for(let b=0;b<this.scenes.length;++b){const c=null!==this.scenes[b].repeat,e=c?this.scenes[b].repeat[1]:0;for(let g=0;g<this.scenes[b].frames.length;++g)a.push({id:this.scenes[b].frames[g],
repeat:c&&g>=e,flipped:!1})}return a},speed:function(){var a=9999999999,b=0;for(let c=0;c<this.scenes.length;++c)this.scenes[c].from[2]<a?a=this.scenes[c].from[2]:b<this.scenes[c].from[2]&&(b=this.scenes[c].from[2]),this.scenes[c].to[2]<a?a=this.scenes[c].to[2]:b<this.scenes[c].to[2]&&(b=this.scenes[c].to[2]);a=`${a}ms`;b=`${b}ms`;return a===b?a:`${a} \u2013 ${b}`},steps:function(){let a=[],b=0,c=0-this.scenes[0].from[2];for(let g=0;g<this.scenes.length;++g){const f=this.scenes[g],k=f.frames.length;
var e=null!==f.repeat?Math.floor(f.repeat[0]):0;const p=e?Math.floor(f.repeat[1]):0;e=k+(k-p)*e;const D=f.to[2]-f.from[2],E=f.to[0]-f.from[0],F=f.to[1]-f.from[1];for(let l=0;l<e;++l){const t=l/e,u=Math.floor(c+f.from[2]+D*t),G=u-c;c=u;a.push({step:b,scene:g,time:u,interval:G,frame:l<k?f.frames[l]:p?f.frames[p+(l-p)%(k-p)]:f.frames[l%k],x:f.from[0]+E*t,y:f.from[1]+F*t,sound:null,flip:!!(2&f.flags&&e-1===l),flags:f.flags});++b}}return a},defaultChoice:function(){return!!(1&this.flags)},entranceChoice:function(){return!!(2&
this.flags)},firstChoice:function(){return!!(4&this.flags)}},template:'\n\t\t<div\n\t\t\tclass="animation"\n\t\t\t:id="\'animation-\' + id"\n\t\t>\n\t\t\t<h3 class="animation-title accent">\n\t\t\t\t<abbr\n\t\t\t\t\tclass="animation-name"\n\t\t\t\t\ttitle="View Details"\n\t\t\t\t>{{ name }}</abbr>\n\t\t\t\t<span class="animation-id">#{{ id }}</span>\n\t\t\t</h3>\n\n\t\t\t<div class="animation-legends">\n\t\t\t\t\x3c!-- Main attributes. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="isPlayable"\n\t\t\t\t\t\tclass="animation-legend-icon play-toggle"\n\t\t\t\t\t\ticon="play"\n\t\t\t\t\t\ttitle="Play Animation"\n\t\t\t\t\t\tv-on:click.prevent="playAnimation(id)"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="hasSound"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="audio"\n\t\t\t\t\t\ttitle="Makes Noise"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="isDependent"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="link"\n\t\t\t\t\t\ttitle="Dependent Animation"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="firstChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="startup"\n\t\t\t\t\t\ttitle="Startup Choice"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="defaultChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="default"\n\t\t\t\t\t\ttitle="Default Choice"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="entranceChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="offscreen"\n\t\t\t\t\t\ttitle="Offscreen Choice"\n\t\t\t\t\t></poe-icon>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Speed. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="speed"\n\t\t\t\t\t\ttitle="Playback Speed"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<div class="animation-legend-value is-lower">{{ speed }}</div>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Time. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="time"\n\t\t\t\t\t\ttitle="Playback Duration"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<div class="animation-legend-value is-lower">{{ duration }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\x3c!-- .animation-legends --\x3e\n\n\t\t\t<div\n\t\t\t\tclass="frames-list"\n\t\t\t\t:class="{ \'is-repeatable\' : isRepeated > 0 }"\n\t\t\t>\n\t\t\t\t<poe-frame\n\t\t\t\t\tv-for="(f, index) in frames"\n\t\t\t\t\t:key="\'frame-\' + id + \'-\' + index"\n\t\t\t\t\t:frame="f.id"\n\t\t\t\t\t:repeat="f.repeat"\n\t\t\t\t></poe-frame>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass="animation-trees"\n\t\t\t\tv-if="hasTree && expanded"\n\t\t\t>\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasChild"\n\t\t\t\t\t:key="\'tree-child-\' + id"\n\t\t\t\t\ttrunk="Child"\n\t\t\t\t\t:values="[[childId, 1]]"\n\t\t\t\t></poe-tree>\n\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasNext"\n\t\t\t\t\t:key="\'tree-next-\' + id"\n\t\t\t\t\ttrunk="Next"\n\t\t\t\t\t:values="next"\n\t\t\t\t></poe-tree>\n\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasEdge"\n\t\t\t\t\t:key="\'tree-edge-\' + id"\n\t\t\t\t\ttrunk="Edge"\n\t\t\t\t\t:values="edge"\n\t\t\t\t></poe-tree>\n\t\t\t</div>\n\t\t</div>\n\t'});
Vue.component("poe-frame",y);Vue.component("poe-icon",z);
Vue.component("poe-sprite",{data:function(){return{frames:[],preset:-1,presets:x.reduce((a,b)=>{for(let c=0;c<b.c.length;++c){const e=h(b.c[c]);let g=null===e.repeat?0:Math.floor(e.repeat[0]);99<g&&(g=99);const f=g?Math.floor(e.repeat[1]):0;let k=b.name;0<c&&(k+=` (#${c+1})`);a.push({id:`${b.id}_${c}`,name:k,speed:Math.floor(e.from[2]),repeat:g,repeatFrom:f,frames:e.frames})}return a},[]).sort((a,b)=>{a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a>b?1:0}),repeat:0,repeatFrom:0,speed:200,
tick:-1}},props:{},methods:{addFrame:function(a){a=parseInt(a,10)||0;this.frames.push(0>a?0:176<a?176:a)},removeFrame:function(a){a=parseInt(a,10)||0;"undefined"!==typeof this.frames[a]&&this.frames.splice(a,1);this.frames.length?this.frames.length<=this.repeatFrom&&(this.repeatFrom=this.frames.length-1):this.repeat=this.repeatFrom=0},raiseFrame:function(a){a=parseInt(a,10)||0;0<a&&"undefined"!==typeof this.frames[a]&&([this.frames[a],this.frames[a-1]]=[this.frames[a-1],this.frames[a]])},lowerFrame:function(a){a=
parseInt(a,10)||0;0<=a&&this.frames.length-1>a&&"undefined"!==typeof this.frames[a]&&([this.frames[a],this.frames[a+1]]=[this.frames[a+1],this.frames[a]])},tickCycle:function(){B=null;if(!(0>this.tick||2>this.playlist.length)){var a=this.tick+1;this.playlist.length<=a&&(a=0);Vue.nextTick(()=>{this.tick=a;B=setTimeout(()=>{B=null;this.tickCycle()},this.speed)})}}},computed:{errors:function(){let a=[];10>this.speed?a.push("Speed must be at least 10ms."):9999<this.speed&&a.push("Speed cannot exceed 9999ms.");
if(0>this.repeat){a.push("Repeat must be at least 0.");const b=this.frames.length?this.frames.length-1:0;0>this.repeatFrom?a.push("Repeat From must be at least 0."):b<this.repeatFrom&&a.push(`Repeat From cannot exceed ${b}.`)}else 99<this.repeat&&a.push("Repeat cannot exceed 99.");return a.length?a:!1},playlist:function(){const a=this.frames.length;if(!a)return!1;let b=[];const c=a+(a-this.repeatFrom)*this.repeat;for(let e=0;e<c;++e)e<a?b.push(this.frames[e]):this.repeatFrom?b.push(this.frames[this.repeatFrom+
(e-this.repeatFrom)%(a-this.repeatFrom)]):b.push(this.frames[e%a]);return b},presetList:function(){let a='<option value="-1"> --- </option>';const b=this.presets.length;for(let c=0;c<b;++c)a+=`<option value="${c}">${this.presets[c].name}</option>`;return a}},watch:{playlist:function(){B&&(clearTimeout(B),B=null);this.playlist.length?Vue.nextTick(()=>{this.tick=0;this.tickCycle()}):this.tick=-1},preset:function(a){0>a?(this.repeat=this.repeatFrom=0,this.speed=200,this.frames=[]):(this.frames=JSON.parse(JSON.stringify(this.presets[a].frames)),
this.speed=this.presets[a].speed,this.repeat=this.presets[a].repeat,this.repeatFrom=this.presets[a].repeatFrom)},repeat:function(a){"number"!==typeof a||0>a?this.repeat=0:99<a&&(this.repeat=99)},repeatFrom:function(a){!this.repeat||"number"!==typeof a||0>a?this.repeatFrom=0:this.frames.length<=a&&(this.repeatFrom=this.frames.length-1)}},template:'\n\t\t<div class="sprite-wrapper">\n\t\t\t<div class="sprite">\n\t\t\t\t<div\n\t\t\t\t\tv-for="f in 176"\n\t\t\t\t\tclass="sprite-frame"\n\t\t\t\t\t:data-frame="\'#\' + (f - 1)"\n\t\t\t\t>\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\t:frame="f - 1"\n\t\t\t\t\t\tv-on:click.prevent="addFrame(f - 1)"\n\t\t\t\t\t></poe-frame>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="playground">\n\t\t\t\t<div class="playground-settings">\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-presets"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-preset" class="accent">Preset</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tid="playground-preset"\n\t\t\t\t\t\t\tv-model.number="preset"\n\t\t\t\t\t\t\tv-html="presetList"\n\t\t\t\t\t\t></select>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-speed"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-speed" class="accent is-required">Speed</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-speed"\n\t\t\t\t\t\t\tmax="9999"\n\t\t\t\t\t\t\tmin="10"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="speed"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-repeat"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-repeat" class="accent">Repeat</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-repeat"\n\t\t\t\t\t\t\tmax="99"\n\t\t\t\t\t\t\tmin="0"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="repeat"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-repeat-from"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : repeat <= 0 || ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-repeat-from" class="accent">From</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-repeat-from"\n\t\t\t\t\t\t\t:max="frames.length ? frames.length - 1 : 0"\n\t\t\t\t\t\t\tmin="0"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="repeatFrom"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if="false !== errors"\n\t\t\t\t\t\tclass="playground-settings-errors accent"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p v-for="error in errors">{{ error }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="playground-movie" v-if="false !== playlist && 0 <= tick">\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\tclass="playground-movie-frame"\n\t\t\t\t\t\t:frame="playlist[tick]"\n\t\t\t\t\t\t:key="\'playground-movie-\' + playlist[tick]"\n\t\t\t\t\t></poe-frame>\n\t\t\t\t</div>\n\n\t\t\t\t<table class="playground-frames" v-if="false !== playlist">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for="(f, index) in frames">\n\t\t\t\t\t\t\t<td class="playground-frames-col for-id accent">\n\t\t\t\t\t\t\t\t#{{ f }}\n\t\t\t\t\t\t\t\t<template v-if="repeat && index >= repeatFrom">\n\t\t\t\t\t\t\t\t\t<br><span class="infinity">\u221e</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="playground-frames-col for-frame">\n\t\t\t\t\t\t\t\t<poe-frame\n\t\t\t\t\t\t\t\t\tclass="playground-frame"\n\t\t\t\t\t\t\t\t\t:frame="f"\n\t\t\t\t\t\t\t\t\t:key="\'playground-frames-\' + index + \'-\' + f"\n\t\t\t\t\t\t\t\t\tv-on:click.prevent="removeFrame(index)"\n\t\t\t\t\t\t\t\t></poe-frame>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="playground-frames-col for-up">\n\t\t\t\t\t\t\t\t<div class="playground-frames-order">\n\t\t\t\t\t\t\t\t\t<poe-icon\n\t\t\t\t\t\t\t\t\t\tv-if="index > 0"\n\t\t\t\t\t\t\t\t\t\ticon="arrow"\n\t\t\t\t\t\t\t\t\t\tclass="up"\n\t\t\t\t\t\t\t\t\t\tv-on:click.prevent="raiseFrame(index)"\n\t\t\t\t\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t\t\t\t\t<poe-icon\n\t\t\t\t\t\t\t\t\t\tv-if="index < frames.length - 1"\n\t\t\t\t\t\t\t\t\t\ticon="arrow"\n\t\t\t\t\t\t\t\t\t\tclass="down"\n\t\t\t\t\t\t\t\t\t\tv-on:click.prevent="lowerFrame(index)"\n\t\t\t\t\t\t\t\t\t></poe-icon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t'});
Vue.component("poe-tree",A);
new Vue({el:"#app",data:{name:"JS Mate Poe",version:"1.1.0",animations:x.reduce((a,b)=>{let c=b.flags;for(let e=0;e<b.c.length;++e)if("function"===typeof b.c[e].repeat){c|=8;break}0<b.f&&(c|=1);0<b.g&&(c|=2);0<b.h&&(c|=4);a.push({id:b.id,name:b.name,scenes:m(b.c),flags:c,childId:null===b.i?0:b.i,edge:d(b.j),next:d(b.next)});return a},[]).sort((a,b)=>`${1&a.flags?"0_":"1_"}${a.name}`<`${1&b.flags?"0_":"1_"}${b.name}`?-1:1),immersive:!1,tab:"animations",tabs:[{id:"animations",name:"Animations"},{id:"sprite",
name:"Sprite"}]},mounted:function(){C||(C=!1)},methods:{immersiveToggle:function(a){this.immersive=!!a;document.body.classList.toggle("is-immersive",this.immersive);this.tab=this.immersive?"immersive":"animations"},playAnimation:function(a){window.Poe.animation=a},summary:function(a){return"undefined"!==typeof this.summaries[a]?this.summaries[a]:!1},tabToggle:function(a){this.tab=a}},computed:{summaries:function(){return this.animations.reduce((a,b)=>{a[b.id]={id:b.id,name:b.name,frame:b.scenes[0].frames[0]};
return a},{})}}});}).call(this);
