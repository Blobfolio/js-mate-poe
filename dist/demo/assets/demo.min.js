/**
 * JS Mate Poe
 *
 * @version 1.0.2
 * @see {https://github.com/Blobfolio/js-mate-poe}
 */
(function(){'use strict';function e(){return parseInt(window.innerHeight,10)||0}function f(){const a=parseInt(window.innerWidth,10)||0,b=parseInt(document.documentElement.offsetWidth,10)||0;return b<a&&b+25>=a?b:a};const h=[{id:1,name:"Walk",i:null,start:{x:-2,y:0,speed:200},end:{x:-2,y:0,speed:200},repeat:20,g:0,frames:[2,3],audio:null,a:1,c:0,b:0,flags:5,f:0,h:[{weight:5,id:2},37],next:[{weight:10,id:1},11,15,19,{weight:2,id:26},{weight:4,id:35},{weight:2,id:43},44,{weight:2,id:45},49,52,{weight:2,id:53}]},{id:2,name:"Rotate",i:null,start:200,end:200,repeat:0,g:0,frames:[3,9,10],audio:null,a:1,c:0,b:0,flags:6,f:0,h:null,next:3},{id:3,name:"Rotate (End)",i:null,start:200,end:200,repeat:0,g:0,frames:[10,9,3],
audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:[{weight:10,id:1},26]},{id:4,name:"Drag",i:null,start:100,end:100,repeat:0,g:0,frames:[42,43,43,42,44,44],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:4},{id:5,name:"Fall",i:null,start:{x:0,y:1,speed:100},end:{x:0,y:10,speed:40},repeat:20,g:0,frames:[133],audio:null,a:0,c:1,b:10,flags:0,f:0,h:9,next:6},{id:6,name:"Grasping Fall",i:null,start:{x:0,y:10,speed:40},end:{x:0,y:10,speed:40},repeat:10,g:0,frames:[46,46,46],audio:null,a:0,c:1,b:0,flags:0,f:0,
h:[{weight:3,id:10},9,13],next:6},{id:7,name:"Run",i:null,start:{x:-10,y:0,speed:100},end:{x:-10,y:0,speed:100},repeat:5,g:0,frames:[5,4,4],audio:null,a:1,c:0,b:0,flags:5,f:0,h:8,next:[{weight:2,id:7},{weight:4,id:36},{weight:3,id:25}]},{id:8,name:"Boing!",i:null,start:{x:1,y:0,speed:100},end:{x:10,y:0,speed:100},repeat:0,g:0,frames:[62,62,63,64,65,66,67,68,69,70,6],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:[{weight:8,id:2},7,{weight:4,id:1}]},{id:9,name:"Bounce",i:null,start:100,end:100,repeat:0,
g:0,frames:[42,49,42],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:65},{id:10,name:"Splat!",i:null,start:200,end:500,repeat:0,g:0,frames:[48,48,48,48,47],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:1},{id:11,name:"Urinate",i:null,start:200,end:200,repeat:()=>Math.floor(5+10*Math.random()),g:5,frames:[3,12,13,103,104,105,106],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:12},{id:12,name:"Urinate (End)",i:null,start:200,end:200,repeat:0,g:0,frames:[104,105,104,104,103,13,12],audio:null,a:0,c:0,
b:0,flags:4,f:0,h:null,next:1},{id:13,name:"Play Dead",i:null,start:100,end:100,repeat:4,g:11,frames:[3,96,96,96,96,96,96,96,96,96,96,95],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:1},{id:14,name:"Scream!",i:null,start:30,end:100,repeat:12,g:0,frames:[50,51],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:7},{id:15,name:"Sleep",i:null,start:1E3,end:200,repeat:()=>Math.floor(10+20*Math.random()),g:9,frames:[3,107,108,107,108,107,31,32,33,0,1],audio:{file:"YAWN",start:1},a:1,c:0,b:0,flags:4,f:0,
h:null,next:16},{id:16,name:"Sleep (Wake)",i:null,start:200,end:200,repeat:0,g:0,frames:[0,80,79,78,77,37,38,39,38,37,6],audio:{file:"YAWN",start:5},a:0,c:0,b:0,flags:4,f:0,h:null,next:1},{id:17,name:"Doze",i:null,start:200,end:200,repeat:()=>Math.floor(20+10*Math.random()),g:6,frames:[3,6,7,8,8,7,8,8],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:18},{id:18,name:"Doze (Wake)",i:null,start:200,end:200,repeat:0,g:0,frames:[8,7,6],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:7},{id:19,name:"Bored Sleep",
i:null,start:200,end:200,repeat:()=>Math.floor(30+10*Math.random()),g:7,frames:[3,9,10,34,35,34,35,36,36],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:20},{id:20,name:"Bored Sleep (Wake)",i:null,start:200,end:200,repeat:0,g:0,frames:[35,36,36,35,34,34,34,10,9],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:1},{id:21,name:"Bath Dive",i:()=>({x:f(),y:e()-600}),start:{x:-4,y:3,speed:30},end:{x:-4,y:3,speed:30},repeat:146,g:0,frames:[134],audio:null,a:0,c:1,b:1,flags:0,f:23,h:null,next:22},{id:22,name:"Bath Dive (Burning Up)",
i:null,start:{x:-4,y:3,speed:30},end:{x:-4,y:3,speed:30},repeat:0,g:0,frames:[135,135,135,135,136,136,136,136,137,137,137,137,138,138,138,138,139,139,139,139,140,140,140,140,141,141,141,141,142,142,142,142,143,143,143,143,144,144,144,144,145,144,145,144,145,144,145,144],audio:null,a:0,c:0,b:0,flags:0,f:0,h:47,next:47},{id:23,name:"Bath Dive Tub (Child)",i:()=>({x:f()-800+50,y:e()-40}),start:30,end:30,repeat:171,g:0,frames:[146],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:24},{id:24,name:"Bath Splash (Child)",
i:null,start:30,end:30,repeat:5,g:20,frames:[146,146,146,146,146,146,146,146,146,146,146,146,147,147,148,148,148,147,147,146,146,146,146,146,146,146,146,146,146,146,146,146],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:null},{id:25,name:"Jump",i:null,start:{x:-10,y:-8,speed:100},end:{x:-10,y:10,speed:100},repeat:0,g:0,frames:[76,30,30,30,30,23,23,23,23,23,24,24,24,24,77],audio:null,a:1,c:0,b:0,flags:0,f:0,h:[{weight:4,id:7},36],next:[7,46]},{id:26,name:"Eat",i:null,start:300,end:300,repeat:5,g:5,
frames:[6,6,6,6,58,59,59,60,61,60,61,6],audio:null,a:1,c:0,b:0,flags:4,f:27,h:null,next:1},{id:27,name:"Flower (Child)",i:null,start:300,end:300,repeat:0,g:0,frames:[153,153,153,153,153,153,153,153,153,149,149,149,149,149,149,149,149,149,150,150,150,150,150,150,150,151,151,151,151,151,151,151,152,152,152,152,152,152,152,152,152,152,152,152,174,174,174],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:null},{id:28,name:"Black Sheep Frolic",i:()=>({x:f()+40,y:e()-40}),start:{x:-10,y:0,speed:100},end:{x:-10,
y:0,speed:100},repeat:()=>Math.floor(f()/2/30-6),g:0,frames:[5,4,4],audio:null,a:0,c:1,b:1,flags:4,f:31,h:null,next:29},{id:29,name:"Black Sheep Approach",i:null,start:{x:-6,y:0,speed:100},end:100,repeat:()=>Math.floor(25+Math.floor(f()/2)%30/7),g:0,frames:[2,3],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:30},{id:30,name:"Black Sheep Romance",i:null,start:500,end:500,repeat:0,g:0,frames:[8,3,3,3,127,128,129,130,130,130,130,129,128,127,3,3,3],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:1},{id:31,
name:"Black Sheep Frolic (Child)",i:()=>({x:-40,y:e()-40}),start:{x:10,y:0,speed:100},end:{x:10,y:0,speed:100},repeat:()=>Math.floor(f()/2/30-6),g:0,frames:[155,154,154],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:32},{id:32,name:"Black Sheep Approach (Child)",i:null,start:{x:6,y:0,speed:100},end:100,repeat:()=>Math.floor(24+Math.floor(f()/2)%30/7),g:0,frames:[156,157],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:33},{id:33,name:"Black Sheep Romance (Child)",i:null,start:500,end:500,repeat:9,
g:0,frames:[157],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:34},{id:34,name:"Black Sheep Final (Child)",i:null,start:20,end:20,repeat:20,g:0,frames:[157],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:null},{id:35,name:"Begin Run",i:null,start:{x:-2,y:0,speed:200},end:{x:-10,y:0,speed:100},repeat:0,g:0,frames:[2,3,2,5,4,5,4,5],audio:null,a:1,c:0,b:0,flags:4,f:0,h:8,next:7},{id:36,name:"Run (End)",i:null,start:{x:-10,y:0,speed:100},end:{x:-2,y:0,speed:200},repeat:0,g:0,frames:[5,4,5,4,5,3,2,3,
2,3],audio:null,a:0,c:0,b:0,flags:4,f:0,h:8,next:1},{id:37,name:"Climb Wall",i:null,start:{x:0,y:-2,speed:150},end:{x:0,y:-2,speed:150},repeat:()=>e()/2,g:2,frames:[31,30,15,16],audio:null,a:0,c:0,b:0,flags:0,f:0,h:38,next:37},{id:38,name:"Move Upside Down",i:null,start:200,end:{x:2,y:0,speed:200},repeat:0,g:0,frames:[16,17,28],audio:null,a:0,c:0,b:0,flags:2,f:0,h:null,next:39},{id:39,name:"Walk Upside Down",i:null,start:{x:-2,y:0,speed:150},end:{x:-2,y:0,speed:150},repeat:()=>f()/2,g:0,frames:[98,
97],audio:null,a:0,c:0,b:0,flags:0,f:0,h:40,next:39},{id:40,name:"Upside Down Pause",i:null,start:800,end:800,repeat:0,g:0,frames:[97,97],audio:null,a:0,c:0,b:0,flags:2,f:0,h:null,next:41},{id:41,name:"Climb Down",i:null,start:{x:0,y:2,speed:150},end:{x:0,y:2,speed:150},repeat:()=>e()/2,g:0,frames:[19,20],audio:null,a:0,c:0,b:0,flags:0,f:0,h:42,next:41},{id:42,name:"Climb Over",i:null,start:200,end:200,repeat:0,g:0,frames:[24,6,6,6,6,6],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:1},{id:43,name:"Beg",
i:null,start:200,end:200,repeat:0,g:0,frames:[52,53,54,55,54,55,54,55,34,34,34,34,34,34,31],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:1},{id:44,name:"Bleat",i:null,start:200,end:200,repeat:0,g:0,frames:[3,71,72,71,72,71,3],audio:{file:"BAA",start:1},a:1,c:0,b:0,flags:4,f:0,h:null,next:1},{id:45,name:"Handstand",i:null,start:{x:-2,y:0,speed:200},end:{x:-2,y:0,speed:200},repeat:0,g:0,frames:[86,87,88,89,90,88,89,90,87,86],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:1},{id:46,name:"Jump and Slide",
i:null,start:{x:-4,y:0,speed:50},end:200,repeat:0,g:0,frames:[24,23,23,23,23,23,31,3,3,3,3],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:1},{id:47,name:"Bath Cool Down",i:null,start:100,end:100,repeat:2,g:0,frames:[169,169,169,170,171,170,169,169],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:48},{id:48,name:"Leave Bath",i:null,start:100,end:100,repeat:0,g:0,frames:[119,81,81,82,82,10],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:3},{id:49,name:"Roll (Start)",i:null,start:200,end:200,repeat:0,
g:0,frames:[9,10,10],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:50},{id:50,name:"Roll",i:null,start:{x:-8,y:0,speed:100},end:{x:-8,y:0,speed:100},repeat:1,g:0,frames:[10,118,117,116,115,114,113,112],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:51},{id:51,name:"Roll (End)",i:null,start:200,end:200,repeat:0,g:0,frames:[10,10,9],audio:null,a:0,c:0,b:0,flags:4,f:0,h:null,next:1},{id:52,name:"Sneeze",i:null,start:200,end:200,repeat:0,g:0,frames:[108,109,110,111,110,111,110,3],audio:{file:"SNEEZE",
start:0},a:1,c:0,b:0,flags:4,f:0,h:null,next:1},{id:53,name:"Scratch",i:null,start:200,end:200,repeat:3,g:0,frames:[56,57],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:null},{id:54,name:"Stargaze",i:()=>({x:f(),y:e()-40}),start:{x:-2,y:0,speed:100},end:{x:-2,y:0,speed:100},repeat:10,g:0,frames:[2,3],audio:null,a:0,c:1,b:1,flags:4,f:0,h:null,next:55},{id:55,name:"Stargaze Look",i:null,start:50,end:50,repeat:15,g:5,frames:[3,3,3,3,3,73],audio:null,a:0,c:0,b:0,flags:4,f:56,h:null,next:14},{id:56,name:"Stargaze Look (Child)",
i:()=>({x:-40,y:80}),start:{x:5,y:-1,speed:25},end:{x:5,y:-1,speed:25},repeat:40,g:0,frames:[158,159,160,161],audio:null,a:0,c:0,b:0,flags:8,f:0,h:null,next:null},{id:57,name:"Abduction",i:null,start:200,end:200,repeat:10,g:5,frames:[9,10,10,10,10,34],audio:null,a:1,c:0,b:0,flags:4,f:58,h:null,next:59},{id:58,name:"Abduction (Child)",i:null,start:{x:0,y:4,speed:25},end:{x:0,y:4,speed:25},repeat:29,g:0,frames:[158,159,160,161],audio:null,a:0,c:0,b:0,flags:8,f:0,h:null,next:60},{id:59,name:"Abduction (Vanishing)",
i:null,start:25,end:25,repeat:()=>f()/4,g:47,frames:[34,34,34,34,34,34,175,34,175,86,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175,175,34,175,86,86,175,86,175,86,175],audio:null,a:0,c:0,b:0,flags:12,f:0,h:null,next:63},{id:60,name:"Abduction Beaming (Child)",i:null,start:25,end:25,repeat:11,g:0,frames:[162,163,164,165],audio:null,a:0,c:0,b:0,flags:8,f:61,h:null,next:62},{id:61,name:"Abduction Beam (Child)",i:null,start:25,end:25,repeat:35,g:7,frames:[175,
175,175,175,172,172,175,172],audio:null,a:0,c:0,b:0,flags:8,f:0,h:null,next:null},{id:62,name:"Abduction Getaway (Child)",i:null,start:{x:4,y:-1,speed:25},end:{x:4,y:-1,speed:25},repeat:()=>f()/16,g:0,frames:[158,159,160,161],audio:null,a:0,c:0,b:0,flags:8,f:0,h:null,next:null},{id:63,name:"Chasing a Martian!",i:()=>({x:f()+120,y:e()-40}),start:{x:-10,y:0,speed:100},end:{x:-10,y:0,speed:100},repeat:()=>f()/2/30,g:0,frames:[5,4,4],audio:null,a:0,c:1,b:1,flags:4,f:64,h:null,next:44},{id:64,name:"Chasing a Martian! (Child)",
i:()=>({x:f()+40,y:e()-40}),start:{x:-12,y:0,speed:100},end:{x:-12,y:0,speed:100},repeat:()=>f()/36+4,g:0,frames:[166,167,168],audio:null,a:0,c:0,b:0,flags:13,f:0,h:null,next:null},{id:65,name:"Bounce (Up)",i:null,start:{x:0,y:-2,speed:100},end:{x:0,y:3,speed:100},repeat:0,g:0,frames:[131,42,132,42,49],audio:null,a:0,c:0,b:0,flags:0,f:0,h:null,next:66},{id:66,name:"Bounce (End)",i:null,start:100,end:100,repeat:0,g:0,frames:[13,12,3,9,10,10,10,10,10,10,10,10,10,10,9,3],audio:null,a:0,c:0,b:0,flags:4,
f:0,h:null,next:1},{id:67,name:"Spin",i:null,start:100,end:100,repeat:0,g:0,frames:[3,9,10,11,14,13,12,7,9,101,11,14,13,12],audio:null,a:1,c:0,b:0,flags:4,f:0,h:null,next:[13,52]}];h.reduce((a,b)=>{1===b.a?a.push(b.id):b.a&&a.push({weight:b.a,id:b.id});return a},[]);h.reduce((a,b)=>{1===b.c?a.push(b.id):b.c&&a.push({weight:b.c,id:b.id});return a},[]);h.reduce((a,b)=>{1===b.b?a.push(b.id):b.b&&a.push({weight:b.b,id:b.id});return a},[]);
const k=h.reduce((a,b)=>{0<b.f&&a.add(b.f);-1!==b.name.indexOf("(Child)")&&a.add(b.id);return a},new Set);function l(a){if(null===a)return null;"function"===typeof a&&(a=a());return"object"!==typeof a||null===a||"number"!==typeof a.x||"number"!==typeof a.y?null:a}function t(a){"function"===typeof a&&(a=a());if("number"===typeof a)a={x:0,y:0,speed:a};else if("object"!==typeof a||null===a||"number"!==typeof a.x||"number"!==typeof a.y||"number"!==typeof a.speed)a={x:0,y:0,speed:100};return a};const u={functional:!0,props:{frame:{type:Number,required:!1,"default":0},repeat:{type:Boolean,required:!1,"default":!1}},render:function(a,b){if(0>b.props.frame||176<b.props.frame)b.props.frame=0;b.data.staticClass="string"===typeof b.data.staticClass?b.data.staticClass+` frame f${b.props.frame}`:`frame f${b.props.frame}`;b.data.attrs.title=`Frame: #${b.props.frame}`;b.props.repeat&&(b.data.staticClass+=" is-repeated");return a("DIV",b.data)}};const v={functional:!0,props:{icon:{type:String,required:!0}},render:function(a,b){b.data.staticClass="string"===typeof b.data.staticClass?b.data.staticClass+" icon":"icon";b.data.domProps={innerHTML:`<svg class="icon-${b.props.icon}"><use xlink:href="#i-${b.props.icon}"></use></svg>`};return a("DIV",b.data)}};const w={props:{trunk:{type:String,required:!0},values:{type:Array,required:!0}},computed:{branches:function(){let a=[];const b=this.values.length;for(let d=0;d<b;++d){if("number"!==typeof this.values[d].id||"number"!==typeof this.values[d].weight)continue;const c=this.$root.summary(this.values[d].id);!1!==c&&a.push({id:c.id,name:c.name,frame:c.frame,weight:Math.floor(this.values[d].weight/this.totalWeight*1E3)/10})}a.sort((d,c)=>d.weight<c.weight?1:d.weight>c.weight||d.name<c.name?-1:d.name>c.name?
1:0);return a},totalWeight:function(){return this.values.reduce((a,b)=>{"number"===typeof b.weight&&(a+=b.weight);return a},0)}},template:'\n\t\t<div\n\t\t\tclass="animation-tree"\n\t\t>\n\t\t\t<div class="animation-trunk">{{ trunk }}</div>\n\t\t\t<div class="animation-branches">\n\t\t\t\t<a\n\t\t\t\t\tv-for="item in branches"\n\t\t\t\t\tclass="animation-branch"\n\t\t\t\t\t:href="\'#animation-\' + item.id"\n\t\t\t\t>\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\tclass="animation-branch-frame"\n\t\t\t\t\t\t:frame="item.frame"\n\t\t\t\t\t></poe-frame>\n\n\t\t\t\t\t<div class="animation-branch-meta">\n\t\t\t\t\t\t<div class="animation-branch-name">{{ item.name }}</div>\n\t\t\t\t\t\t<div class="animation-branch-weight">Probability: {{ item.weight }}%</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t'};let x=null;let y=!1;function z(a){if(null===a)return null;let b=[];if("number"===typeof a)b.push({weight:1,id:a});else if(Array.isArray(a)){const d=a.length;for(let c=0;c<d;++c)"number"===typeof a[c]?b.push({weight:1,id:a[c]}):"number"===typeof a[c].weight&&"number"===typeof a[c].id&&0<a[c].weight&&0<a[c].id&&b.push({weight:a[c].weight,id:a[c].id})}return b.length?b:null}
Vue.component("poe-animation",{data:function(){return{expanded:!0}},props:{id:{type:Number,required:!0},name:{type:String,required:!0},primary:{type:Boolean,required:!1,"default":!1},playable:{type:Boolean,required:!1,"default":!1},variableDuration:{type:Boolean,required:!1,"default":!1},startFrom:{type:[Object,null],required:!1,"default":null},start:{type:Object,required:!0},end:{type:Object,required:!0},repeat:{type:Number,required:!1,"default":0},repeatFrom:{type:Number,required:!1,"default":0},
frames:{type:Array,required:!0},audio:{type:[Object,null],required:!1,"default":null},defaultChoice:{type:Number,required:!1,"default":0},offscreenChoice:{type:Number,required:!1,"default":0},startupChoice:{type:Number,required:!1,"default":0},flags:{type:Number,required:!1,"default":0},childId:{type:Number,required:!1,"default":0},edge:{type:[Array,null],required:!1,"default":null},next:{type:[Array,null],required:!1,"default":null}},methods:{playAnimation:function(a){this.$root.playAnimation(a)}},
computed:{hasAudio:function(){return null!==this.audio&&"string"===typeof this.audio.file},hasChild:function(){return 0<this.childId},hasEdge:function(){return null!==this.edge&&0<this.edge.length},hasNext:function(){return null!==this.next&&0<this.next.length},hasTree:function(){return this.hasChild||this.hasEdge||this.hasNext},isDependent:function(){return 4===this.id||5===this.id?!0:!this.defaultChoice&&!this.startupChoice&&!this.offscreenChoice},duration:function(){if(this.variableDuration)return"(varies)";
const a=this.steps.length;let b=0;for(let d=0;d<a;++d)b+=this.steps[d].interval;return(new Intl.NumberFormat("en-US",{})).format(b)+"ms"},speed:function(){const a=`${this.start.speed}ms`,b=`${this.start.speed}ms`;return a===b?a:`${a} \u2013 ${b}`},steps:function(){let a=[];const b=this.frames.length,d=b+(b+this.repeatFrom)*this.repeat,c=this.end.speed-this.start.speed,m=this.end.x-this.start.x,n=this.end.y-this.start.y;let p=0-this.start.speed;for(let g=0;g<d;++g){const q=g/d,r=Math.floor(p+this.start.speed+
c*q),A=r-p;p=r;a.push({step:g,time:r,interval:A,frame:g<b?this.frames[g]:this.repeatFrom?this.frames[this.repeatFrom+(g-this.repeatFrom)%(b-this.repeatFrom)]:this.frames[g%b],x:this.start.x+m*q,y:this.start.y+n*q,audio:null})}return a}},template:'\n\t\t<div\n\t\t\tclass="animation"\n\t\t\t:id="\'animation-\' + id"\n\t\t>\n\t\t\t<h3 class="animation-title accent">\n\t\t\t\t<abbr\n\t\t\t\t\tclass="animation-name"\n\t\t\t\t\ttitle="View Details"\n\t\t\t\t>{{ name }}</abbr>\n\t\t\t\t<span class="animation-id">#{{ id }}</span>\n\t\t\t</h3>\n\n\t\t\t<div class="animation-legends">\n\t\t\t\t\x3c!-- Main attributes. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="playable"\n\t\t\t\t\t\tclass="animation-legend-icon play-toggle"\n\t\t\t\t\t\ticon="play"\n\t\t\t\t\t\ttitle="Play Animation"\n\t\t\t\t\t\tv-on:click.prevent="playAnimation(id)"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="hasAudio"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="audio"\n\t\t\t\t\t\ttitle="Makes Noise"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="isDependent"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="link"\n\t\t\t\t\t\ttitle="Dependent Animation"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="0 < startupChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="startup"\n\t\t\t\t\t\ttitle="Startup Choice"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="0 < defaultChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="default"\n\t\t\t\t\t\ttitle="Default Choice"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tv-if="0 < offscreenChoice"\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="offscreen"\n\t\t\t\t\t\ttitle="Offscreen Choice"\n\t\t\t\t\t></poe-icon>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Speed. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="speed"\n\t\t\t\t\t\ttitle="Playback Speed"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<div class="animation-legend-value">{{ speed }}</div>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Time. --\x3e\n\t\t\t\t<div class="animation-legend">\n\t\t\t\t\t<poe-icon\n\t\t\t\t\t\tclass="animation-legend-icon"\n\t\t\t\t\t\ticon="time"\n\t\t\t\t\t\ttitle="Playback Duration"\n\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t<div class="animation-legend-value">{{ duration }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\x3c!-- .animation-legends --\x3e\n\n\t\t\t<div\n\t\t\t\tclass="frames-list"\n\t\t\t\t:class="{ \'is-repeatable\' : repeat > 0 }"\n\t\t\t>\n\t\t\t\t<poe-frame\n\t\t\t\t\tv-for="(f, index) in frames"\n\t\t\t\t\t:key="\'frame-\' + id + \'-\' + index"\n\t\t\t\t\t:frame="f"\n\t\t\t\t\t:repeat="repeat > 0 && index >= repeatFrom"\n\t\t\t\t></poe-frame>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass="animation-trees"\n\t\t\t\tv-if="hasTree && expanded"\n\t\t\t>\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasChild"\n\t\t\t\t\t:key="\'tree-child-\' + id"\n\t\t\t\t\ttrunk="Child"\n\t\t\t\t\t:values="[{ weight: 1, id: childId }]"\n\t\t\t\t></poe-tree>\n\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasNext"\n\t\t\t\t\t:key="\'tree-next-\' + id"\n\t\t\t\t\ttrunk="Next"\n\t\t\t\t\t:values="next"\n\t\t\t\t></poe-tree>\n\n\t\t\t\t<poe-tree\n\t\t\t\t\tv-if="hasEdge"\n\t\t\t\t\t:key="\'tree-edge-\' + id"\n\t\t\t\t\ttrunk="Edge"\n\t\t\t\t\t:values="edge"\n\t\t\t\t></poe-tree>\n\t\t\t</div>\n\t\t</div>\n\t'});
Vue.component("poe-frame",u);Vue.component("poe-icon",v);
Vue.component("poe-sprite",{data:function(){return{frames:[],preset:-1,presets:h.reduce((a,b)=>{const d=t(b.start);let c=Number("function"===typeof b.repeat?5:b.repeat);99<c&&(c=99);a.push({id:b.id,name:b.name,speed:d.speed,repeat:c,repeatFrom:c?b.g:0,frames:b.frames});return a},[]).sort((a,b)=>{a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a>b?1:0}),repeat:0,repeatFrom:0,speed:200,tick:-1}},props:{},methods:{addFrame:function(a){a=parseInt(a,10)||0;this.frames.push(0>a?0:176<a?176:
a)},removeFrame:function(a){a=parseInt(a,10)||0;"undefined"!==typeof this.frames[a]&&this.frames.splice(a,1);(a=this.frames.length)?a<=this.repeatFrom&&(this.repeatFrom=a-1):this.repeat=this.repeatFrom=0},raiseFrame:function(a){a=parseInt(a,10)||0;0<a&&"undefined"!==typeof this.frames[a]&&([this.frames[a],this.frames[a-1]]=[this.frames[a-1],this.frames[a]])},lowerFrame:function(a){a=parseInt(a,10)||0;0<=a&&this.frames.length-1>a&&"undefined"!==typeof this.frames[a]&&([this.frames[a],this.frames[a+
1]]=[this.frames[a+1],this.frames[a]])},tickCycle:function(){x=null;const a=this.playlist.length;if(!(0>this.tick||2>a)){var b=this.tick+1;a<=b&&(b=0);Vue.nextTick(()=>{this.tick=b;x=setTimeout(()=>{x=null;this.tickCycle()},this.speed)})}}},computed:{errors:function(){let a=[];10>this.speed?a.push("Speed must be at least 10ms."):9999<this.speed&&a.push("Speed cannot exceed 9999ms.");if(0>this.repeat){a.push("Repeat must be at least 0.");const b=this.frames.length?this.frames.length-1:0;0>this.repeatFrom?
a.push("Repeat From must be at least 0."):b<this.repeatFrom&&a.push(`Repeat From cannot exceed ${b}.`)}else 99<this.repeat&&a.push("Repeat cannot exceed 99.");return a.length?a:!1},playlist:function(){const a=this.frames.length;if(!a)return!1;let b=[];const d=a+(a-this.repeatFrom)*this.repeat;for(let c=0;c<d;++c)c<a?b.push(this.frames[c]):this.repeatFrom?b.push(this.frames[this.repeatFrom+(c-this.repeatFrom)%(a-this.repeatFrom)]):b.push(this.frames[c%a]);return b},presetList:function(){let a='<option value="-1"> --- </option>';
const b=this.presets.length;for(let d=0;d<b;++d)a+=`<option value="${d}">${this.presets[d].name}</option>`;return a}},watch:{playlist:function(){x&&(clearTimeout(x),x=null);this.playlist.length?Vue.nextTick(()=>{this.tick=0;this.tickCycle()}):this.tick=-1},preset:function(a){0>a?(this.repeat=this.repeatFrom=0,this.speed=200,this.frames=[]):(this.frames=JSON.parse(JSON.stringify(this.presets[a].frames)),this.speed=this.presets[a].speed,this.repeat=this.presets[a].repeat,this.repeatFrom=this.presets[a].repeatFrom)},
repeat:function(a){"number"!==typeof a||0>a?this.repeat=0:99<a&&(this.repeat=99)},repeatFrom:function(a){!this.repeat||"number"!==typeof a||0>a?this.repeatFrom=0:this.frames.length<=a&&(this.repeatFrom=this.frames.length-1)}},template:'\n\t\t<div class="sprite-wrapper">\n\t\t\t<div class="sprite">\n\t\t\t\t<div\n\t\t\t\t\tv-for="f in 176"\n\t\t\t\t\tclass="sprite-frame"\n\t\t\t\t\t:data-frame="\'#\' + (f - 1)"\n\t\t\t\t>\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\t:frame="f - 1"\n\t\t\t\t\t\tv-on:click.prevent="addFrame(f - 1)"\n\t\t\t\t\t></poe-frame>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="playground">\n\t\t\t\t<div class="playground-settings">\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-presets"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-preset" class="accent">Preset</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tid="playground-preset"\n\t\t\t\t\t\t\tv-model.number="preset"\n\t\t\t\t\t\t\tv-html="presetList"\n\t\t\t\t\t\t></select>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-speed"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-speed" class="accent is-required">Speed</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-speed"\n\t\t\t\t\t\t\tmax="9999"\n\t\t\t\t\t\t\tmin="10"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="speed"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-repeat"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-repeat" class="accent">Repeat</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-repeat"\n\t\t\t\t\t\t\tmax="99"\n\t\t\t\t\t\t\tmin="0"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="repeat"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<fieldset\n\t\t\t\t\t\tclass="playground-setting for-repeat-from"\n\t\t\t\t\t\t:class="{ \'is-disabled\' : repeat <= 0 || ! playlist.length }"\n\t\t\t\t\t>\n\t\t\t\t\t\t<label for="playground-repeat-from" class="accent">From</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="playground-repeat-from"\n\t\t\t\t\t\t\t:max="frames.length ? frames.length - 1 : 0"\n\t\t\t\t\t\t\tmin="0"\n\t\t\t\t\t\t\tstep="1"\n\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\tv-model.number="repeatFrom"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if="false !== errors"\n\t\t\t\t\t\tclass="playground-settings-errors accent"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p v-for="error in errors">{{ error }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="playground-movie" v-if="false !== playlist && 0 <= tick">\n\t\t\t\t\t<poe-frame\n\t\t\t\t\t\tclass="playground-movie-frame"\n\t\t\t\t\t\t:frame="playlist[tick]"\n\t\t\t\t\t\t:key="\'playground-movie-\' + playlist[tick]"\n\t\t\t\t\t></poe-frame>\n\t\t\t\t</div>\n\n\t\t\t\t<table class="playground-frames" v-if="false !== playlist">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for="(f, index) in frames">\n\t\t\t\t\t\t\t<td class="playground-frames-col for-id accent">\n\t\t\t\t\t\t\t\t#{{ f }}\n\t\t\t\t\t\t\t\t<template v-if="repeat && index >= repeatFrom">\n\t\t\t\t\t\t\t\t\t<br><span class="infinity">\u221e</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="playground-frames-col for-frame">\n\t\t\t\t\t\t\t\t<poe-frame\n\t\t\t\t\t\t\t\t\tclass="playground-frame"\n\t\t\t\t\t\t\t\t\t:frame="f"\n\t\t\t\t\t\t\t\t\t:key="\'playground-frames-\' + index + \'-\' + f"\n\t\t\t\t\t\t\t\t\tv-on:click.prevent="removeFrame(index)"\n\t\t\t\t\t\t\t\t></poe-frame>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="playground-frames-col for-up">\n\t\t\t\t\t\t\t\t<div class="playground-frames-order">\n\t\t\t\t\t\t\t\t\t<poe-icon\n\t\t\t\t\t\t\t\t\t\tv-if="index > 0"\n\t\t\t\t\t\t\t\t\t\ticon="arrow"\n\t\t\t\t\t\t\t\t\t\tclass="up"\n\t\t\t\t\t\t\t\t\t\tv-on:click.prevent="raiseFrame(index)"\n\t\t\t\t\t\t\t\t\t></poe-icon>\n\n\t\t\t\t\t\t\t\t\t<poe-icon\n\t\t\t\t\t\t\t\t\t\tv-if="index < frames.length - 1"\n\t\t\t\t\t\t\t\t\t\ticon="arrow"\n\t\t\t\t\t\t\t\t\t\tclass="down"\n\t\t\t\t\t\t\t\t\t\tv-on:click.prevent="lowerFrame(index)"\n\t\t\t\t\t\t\t\t\t></poe-icon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t'});
Vue.component("poe-tree",w);
new Vue({el:"#app",data:{name:"JS Mate Poe",version:"1.0.2",animations:h.reduce((a,b)=>{const d=z(b.next),c=z(b.h),m=0<b.a||0<b.b&&5!==b.id&&6!==b.id,n=!k.has(b.id)&&4!==b.id&&5!==b.id&&6!==b.id&&37!==b.id&&38!==b.id&&39!==b.id&&40!==b.id&&41!==b.id&&42!==b.id;a.push({id:b.id,name:b.name,primary:m,playable:n,variableDuration:"function"===typeof b.repeat,startFrom:l(b.i),start:t(b.start),end:t(b.end),repeat:"function"===typeof b.repeat?b.repeat():b.repeat,repeatFrom:b.g,frames:b.frames,audio:b.audio,
defaultChoice:b.a,offscreenChoice:b.c,startupChoice:b.b,flags:b.flags,childId:b.f,edge:c,next:d});return a},[]).sort((a,b)=>`${a.primary?"0_":"1_"}${a.playable?"0_":"1_"}${a.name}`<`${b.primary?"0_":"1_"}${b.playable?"0_":"1_"}${b.name}`?-1:1),immersive:!1,tab:"animations",tabs:[{id:"animations",name:"Animations"},{id:"sprite",name:"Sprite"}]},mounted:function(){y||(y=!1)},methods:{immersiveToggle:function(a){this.immersive=!!a;document.body.classList.toggle("is-immersive",this.immersive);this.tab=
this.immersive?"immersive":"animations"},playAnimation:function(a){window.Poe.setAnimation(a)},summary:function(a){return void 0!==this.summaries[a]?this.summaries[a]:!1},tabToggle:function(a){this.tab=a}},computed:{summaries:function(){return this.animations.reduce((a,b)=>{a[b.id]={id:b.id,name:b.name,frame:b.frames[0]};return a},{})}}});}).call(this);
